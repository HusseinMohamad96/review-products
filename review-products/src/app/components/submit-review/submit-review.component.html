<div class="max-w-2xl mx-auto p-6 bg-white shadow-md rounded-md mt-10">
  <h2 class="text-2xl font-bold mb-6 text-gray-800">Write a Review</h2>

  <form #reviewForm="ngForm"
        (ngSubmit)="submitReview()"
        novalidate>

    <!-- Name -->
    <div class="mb-4">
      <label for="name"
             class="block text-sm font-medium text-gray-700">Your Name</label>
      <input type="text"
             id="name"
             name="name"
             [(ngModel)]="review.reviewer"
             required
             #nameRef="ngModel"
             class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2" />
      <div *ngIf="nameRef.invalid && nameRef.touched"
           class="text-red-500 text-sm mt-1">
        Name is required.
      </div>
    </div>

    <!-- Title -->
    <div class="mb-4">
      <label for="title"
             class="block text-sm font-medium text-gray-700">Title</label>
      <input type="text"
             id="title"
             name="title"
             [(ngModel)]="review.title"
             required
             #titleRef="ngModel"
             class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2" />
      <div *ngIf="titleRef.invalid && titleRef.touched"
           class="text-red-500 text-sm mt-1">
        Title is required.
      </div>
    </div>

    <!-- Content -->
    <div class="mb-4">
      <label for="content"
             class="block text-sm font-medium text-gray-700">Your Review</label>
      <textarea id="content"
                name="content"
                rows="4"
                [(ngModel)]="review.content"
                required
                #contentRef="ngModel"
                class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"></textarea>
      <div *ngIf="contentRef.invalid && contentRef.touched"
           class="text-red-500 text-sm mt-1">
        Review content is required.
      </div>
    </div>

    <!-- Star Rating -->
    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700 mb-2">Rating</label>
      <div class="flex space-x-1">
        <ng-container *ngFor="let star of [1,2,3,4,5]">
          <svg (click)="review.rating = star"
               [ngClass]="review.rating >= star ? 'text-yellow-400' : 'text-gray-300'"
               class="w-8 h-8 cursor-pointer transition-colors"
               fill="currentColor"
               viewBox="0 0 20 20"
               xmlns="http://www.w3.org/2000/svg">
            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.221 3.755a1
            1 0 00.95.69h3.946c.969 0 1.371 1.24.588 1.81l-3.192
            2.32a1 1 0 00-.364 1.118l1.222
            3.755c.3.922-.755 1.688-1.54 1.118l-3.192-2.32a1 1 0
            00-1.175 0l-3.192 2.32c-.785.57-1.84-.196-1.54-1.118l1.222-3.755a1
            1 0 00-.364-1.118l-3.192-2.32c-.783-.57-.38-1.81.588-1.81h3.946a1
            1 0 00.95-.69l1.221-3.755z" />
          </svg>
        </ng-container>
      </div>
    </div>

    <!-- Submit Button -->
    <div class="mt-6">
      <button type="submit"
              [disabled]="reviewForm.invalid"
              class="bg-blue-600 text-white px-6 py-2 rounded-md cursor-pointer hover:bg-blue-700 transition disabled:opacity-50">
        Submit Review
      </button>
    </div>
  </form>
</div>

<app-toast [message]="toast.message"
           [type]="toast.type"
           [show]="toast.show"
           *ngIf="toast.show"></app-toast>